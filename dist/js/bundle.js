!function(t){var o={};function n(i){if(o[i])return o[i].exports;var e=o[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=o,n.d=function(t,o,i){n.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,o){if(1&o&&(t=n(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var e in t)n.d(i,e,function(o){return t[o]}.bind(null,e));return i},n.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(o,"a",o),o},n.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},n.p="",n(n.s=0)}([function(t,o,n){"use strict";o.__esModule=!0;var i=n(1),e=document.getElementById("game"),r=new i.default(e);r.start("P1");var s=r.state.chips;r.move(s[0]).to({x:2,y:2}).then(function(){return r.move(s[1]).to({x:1,y:4})}).then(function(){return r.move(s[4]).to({x:4,y:2})}).then(function(){return r.move("3-5").to({x:4,y:4})})},function(t,o,n){"use strict";o.__esModule=!0;var i=n(2),e=n(3),r=function(){function t(t){var o=this;t.height=600,t.width=600,this.canvas=t,this.ctx=t.getContext("2d"),this.config=i.default,this.board=new e.default(this.config,this.ctx),this.state=this.board.load(),t.onmousemove=function(t){var n=o.getEventPositon(t);o.board.redraw(),o.state.chips.map(function(t){t.hover=o.isInside(t.position,n),o.drawChip(t)})},t.onclick=function(t){var n=o.getEventPositon(t);o.board.redraw(),o.state.chips.map(function(t){t.selected=o.isInside(t.position,n),o.drawChip(t)})}}return t.prototype.getEventPositon=function(t){var o=this.canvas.getBoundingClientRect();return{x:t.clientX-o.left,y:t.clientY-o.top}},t.prototype.isInside=function(t,o){return Math.sqrt(Math.pow(Math.abs(t.x*this.config.LATTICE.SIZE-o.x),2)+Math.pow(Math.abs(t.y*this.config.LATTICE.SIZE-o.y),2))<this.config.GAME_CHIP.RADIUS},t.prototype.start=function(t){var o=this;this.turn=t,this.board.draw(),this.state.chips.forEach(function(t){return o.drawChip(t)})},t.prototype.drawChip=function(t){this.ctx.beginPath(),this.ctx.arc(t.position.x*this.config.LATTICE.SIZE,t.position.y*this.config.LATTICE.SIZE,this.config.GAME_CHIP.RADIUS,0,2*Math.PI,!1),this.ctx.shadowBlur=5,this.ctx.shadowColor=t.hover?this.config.COLOR.SHADOW:"rgba(0,0,0,0)",this.ctx.fillStyle=this.config.COLOR[t.ownedBy],this.ctx.fill(),this.ctx.closePath(),this.ctx.lineWidth=4,this.ctx.strokeStyle=t.selected?"crimson":"black",this.ctx.stroke()},t.prototype.move=function(t){var o;if("string"==typeof t){var n=this.state.chips.filter(function(o){return o.id===t});1===n.length?o=n[0]:Error("ID not found")}else o=t;return this.moving=o,this},t.prototype.to=function(t){var o=this;return new Promise(function(n,i){console.log(t);var e=t.x-o.moving.position.x,r=t.y-o.moving.position.y,s=function(){var i=!0;o.moving.position.x!==t.x&&(i=!1,o.moving.position.x+=e/100,o.moving.position.x=parseFloat(o.moving.position.x.toFixed(2))),o.moving.position.y!==t.y&&(i=!1,o.moving.position.y+=r/100,o.moving.position.y=parseFloat(o.moving.position.y.toFixed(2))),i?n():(o.ctx.clearRect(0,0,window.innerWidth,window.innerHeight),o.drawChip(o.moving),o.board.draw(),o.state.chips.forEach(function(t){return o.drawChip(t)}),requestAnimationFrame(s))};s()})},t}();o.default=r},function(t,o,n){"use strict";o.__esModule=!0;o.default={COLOR:{SHADOW:"lightyellow",BACKGROUND:"rgb(32,43,65)",GRID_LINE:"white",P1:"rgb(103,197,222)",P2:"rgb(231,137,133)"},LATTICE:{SIZE:100},GAME_CHIP:{RADIUS:20,SPEED:.01}}},function(t,o,n){"use strict";var i=this&&this.__read||function(t,o){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,e,r=n.call(t),s=[];try{for(;(void 0===o||o-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return s},e=this&&this.__spread||function(){for(var t=[],o=0;o<arguments.length;o++)t=t.concat(i(arguments[o]));return t};o.__esModule=!0;var r=n(4),s=function(){function t(t,o){var n=this;this.config=t,this.ctx=o,this.paths=[],e(Array(5).keys()).map(function(t){var o=t+1;n.paths.push({from:[o,1],to:[o,5]}),n.paths.push({from:[1,o],to:[5,o]})}),this.paths=this.paths.concat([{from:[1,1],to:[5,5]},{from:[1,5],to:[5,1]}]),this.paths=this.paths.concat([{from:[3,1],to:[1,3]},{from:[1,3],to:[3,5]},{from:[3,5],to:[5,3]},{from:[5,3],to:[3,1]}])}return t.prototype.load=function(){var t=[],o=[],n=e(Array(5).keys());return n.map(function(o){n.map(function(n){t.push({x:o+1,y:n+1})})}),n.map(function(t){o.push(new r.default({x:t+1,y:1},"P1")),o.push(new r.default({x:t+1,y:5},"P2"))}),{map:t,chips:o}},t.prototype.draw=function(){var t=this;this.ctx.fillStyle=this.config.COLOR.BACKGROUND,this.ctx.fillRect(0,0,window.innerWidth,window.innerHeight),this.paths.map(function(o){t.ctx.strokeStyle=t.config.COLOR.GRID_LINE,t.ctx.shadowBlur=0,t.ctx.beginPath(),t.ctx.moveTo(o.from[0]*t.config.LATTICE.SIZE,o.from[1]*t.config.LATTICE.SIZE),t.ctx.lineTo(o.to[0]*t.config.LATTICE.SIZE,o.to[1]*t.config.LATTICE.SIZE),t.ctx.lineWidth=1,t.ctx.stroke(),t.ctx.closePath()})},t.prototype.redraw=function(){this.ctx.clearRect(0,0,window.innerWidth,window.innerHeight),this.draw()},t}();o.default=s},function(t,o,n){"use strict";o.__esModule=!0;var i=function(){return function(t,o){this.position=t,this.ownedBy=o,this.id=t.x+"-"+t.y,this.hover=!1,this.selected=!1}}();o.default=i}]);