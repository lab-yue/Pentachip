!function(t){var i={};function n(o){if(i[o])return i[o].exports;var e=i[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=i,n.d=function(t,i,o){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var e in t)n.d(o,e,function(i){return t[i]}.bind(null,e));return o},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=2)}([function(t,i,n){"use strict";var o=this&&this.__read||function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,e,r=n.call(t),c=[];try{for(;(void 0===i||i-- >0)&&!(o=r.next()).done;)c.push(o.value)}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return c};function e(t){var i=o(t.split("-").map(parseInt),2);return{x:i[0],y:i[1]}}function r(t){return t.x+"-"+t.y}i.__esModule=!0,i.stringToPosition=e,i.PositionToSting=r,i.default={stringToPosition:e,PositionToSting:r}},function(t,i,n){"use strict";i.__esModule=!0,function(t){t[t.TopLeft=0]="TopLeft",t[t.Top=1]="Top",t[t.TopRight=2]="TopRight",t[t.Left=3]="Left",t[t.Right=4]="Right",t[t.DownLeft=5]="DownLeft",t[t.Down=6]="Down",t[t.DownRight=7]="DownRight"}(i.Direction||(i.Direction={}))},function(t,i,n){"use strict";i.__esModule=!0;var o=n(3),e=document.getElementById("game"),r=new o.default(e);r.start("P1");var c=r.state.chips;r.move(c[0]).to({x:2,y:2}).then(function(){return r.move("3-5").to({x:3,y:3})}).then(function(){return r.move(c[4]).to({x:4,y:2})}).then(function(){return r.move("3-5").to({x:4,y:4})})},function(t,i,n){"use strict";i.__esModule=!0;var o=n(4),e=n(5),r=n(1),c=n(0),s=n(6),a=function(){function t(t){var i=this;t.height=600,t.width=600,this.canvas=t,this.ctx=t.getContext("2d"),this.config=o.default,this.board=new e.default(this.config,this.ctx),this.state=this.board.load(),this.hints=[],t.onmousemove=function(t){var n=i.getEventPositon(t);i.board.redraw(),i.state.chips.map(function(t){t.hover=i.isInside(t.position,n),i.drawChip(t)}),i.drawHints()},t.onclick=function(t){var n=i.getEventPositon(t),o=!1;i.state.chips.map(function(t){var e=i.isInside(t.position,n);e&&(o=!0,i.hints=[],i.searchHintPoints(t.position).map(function(t){return i.hints.push(new s.default(t,"GAME"))})),t.selected=e}),o&&(i.board.redraw(),i.drawChips(),i.drawHints())}}return t.prototype.getEventPositon=function(t){var i=this.canvas.getBoundingClientRect();return{x:t.clientX-i.left,y:t.clientY-i.top}},t.prototype.start=function(t){var i=this;this.turn=t,this.board.draw(),this.state.chips.forEach(function(t){return i.drawChip(t)})},t.prototype.drawChip=function(t){this.ctx.beginPath(),this.ctx.arc(t.position.x*this.config.LATTICE.SIZE,t.position.y*this.config.LATTICE.SIZE,this.config.GAME_CHIP.RADIUS,0,2*Math.PI,!1),this.ctx.shadowBlur=5,this.ctx.shadowColor=t.hover?this.config.COLOR.SHADOW:"rgba(0,0,0,0)",this.ctx.fillStyle=this.config.COLOR[t.ownedBy],this.ctx.fill(),this.ctx.closePath(),this.ctx.lineWidth=4,this.ctx.strokeStyle=t.selected?"crimson":"black",this.ctx.stroke()},t.prototype.drawChips=function(){var t=this;this.state.chips.map(function(i){return t.drawChip(i)})},t.prototype.drawHints=function(){var t=this;this.hints.map(function(i){return t.drawChip(i)})},t.prototype.searchHintPoints=function(t){var i=this,n=c.default.PositionToSting(t),o=this.board.directionMap[n],e=[];return o.forEach(function(n){e=e.concat(i.searchDirectionHintPoints(t,n))}),e},t.prototype.checkInclude=function(t,i){var n=t.filter(function(t){return t.x===i.x&&t.y===i.y});return Boolean(n.length)},t.prototype.searchDirectionHintPoints=function(t,i){var n=[];switch(i){case r.Direction.Top:for(var o=t.y-1;o>=1;o--){var e={x:t.x,y:o};if(this.checkInclude(this.state.chips.map(function(t){return t.position}),e))break;this.checkInclude(this.state.map,e)&&n.push(e)}return n;case r.Direction.Down:for(o=t.y+1;o<=5;o++){e={x:t.x,y:o};if(this.checkInclude(this.state.chips.map(function(t){return t.position}),e))break;this.checkInclude(this.state.map,e)&&n.push(e)}return n;case r.Direction.Left:for(o=t.x-1;o>=1;o--){e={x:o,y:t.y};if(this.checkInclude(this.state.chips.map(function(t){return t.position}),e))break;this.checkInclude(this.state.map,e)&&n.push(e)}return n;case r.Direction.Right:for(o=t.x+1;o<=5;o++){e={x:o,y:t.y};if(this.checkInclude(this.state.chips.map(function(t){return t.position}),e))break;this.checkInclude(this.state.map,e)&&n.push(e)}return n;case r.Direction.TopLeft:for(o=t.x-1;o>=1;o--){e={x:o,y:o};if(this.checkInclude(this.state.chips.map(function(t){return t.position}),e))break;this.checkInclude(this.state.map,e)&&n.push(e)}return n;case r.Direction.TopRight:for(o=t.x+1;o<=5;o++){e={x:o,y:1+t.y-o};if(this.checkInclude(this.state.chips.map(function(t){return t.position}),e))break;this.checkInclude(this.state.map,e)&&n.push(e)}return n;case r.Direction.DownLeft:for(o=t.x-1;o>=1;o--){e={x:o,y:1+t.y-o};if(this.checkInclude(this.state.chips.map(function(t){return t.position}),e))break;this.checkInclude(this.state.map,e)&&n.push(e)}return n;case r.Direction.DownRight:for(o=t.x+1;o<=5;o++){e={x:o,y:o};if(this.checkInclude(this.state.chips.map(function(t){return t.position}),e))break;this.checkInclude(this.state.map,e)&&n.push(e)}return n}},t.prototype.move=function(t){var i;if("string"==typeof t){var n=this.state.chips.filter(function(i){return i.id===t});1===n.length?i=n[0]:Error("ID not found")}else i=t;return this.moving=i,this},t.prototype.to=function(t){var i=this;return new Promise(function(n,o){var e=t.x-i.moving.position.x,r=t.y-i.moving.position.y,c=function(){var o=!0;i.moving.position.x!==t.x&&(o=!1,i.moving.position.x+=e/100,i.moving.position.x=parseFloat(i.moving.position.x.toFixed(2))),i.moving.position.y!==t.y&&(o=!1,i.moving.position.y+=r/100,i.moving.position.y=parseFloat(i.moving.position.y.toFixed(2))),o?n():(i.ctx.clearRect(0,0,window.innerWidth,window.innerHeight),i.drawChip(i.moving),i.board.draw(),i.drawChips(),i.drawHints(),requestAnimationFrame(c))};c()})},t.prototype.isInside=function(t,i){return Math.sqrt(Math.pow(Math.abs(t.x*this.config.LATTICE.SIZE-i.x),2)+Math.pow(Math.abs(t.y*this.config.LATTICE.SIZE-i.y),2))<this.config.GAME_CHIP.RADIUS},t}();i.default=a},function(t,i,n){"use strict";i.__esModule=!0;i.default={COLOR:{SHADOW:"lightyellow",BACKGROUND:"rgb(32,43,65)",GRID_LINE:"white",GAME:"lightyellow",P1:"rgb(103,197,222)",P2:"rgb(231,137,133)"},LATTICE:{SIZE:100},GAME_CHIP:{RADIUS:20,SPEED:.01}}},function(t,i,n){"use strict";var o=this&&this.__read||function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,e,r=n.call(t),c=[];try{for(;(void 0===i||i-- >0)&&!(o=r.next()).done;)c.push(o.value)}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return c},e=this&&this.__spread||function(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(o(arguments[i]));return t};i.__esModule=!0;var r=n(6),c=n(1),s=function(){function t(t,i){var n=this;this.config=t,this.ctx=i,this.paths=[],e(Array(5).keys()).map(function(t){var i=t+1;n.paths.push({from:[i,1],to:[i,5]}),n.paths.push({from:[1,i],to:[5,i]})}),this.paths=this.paths.concat([{from:[1,1],to:[5,5]},{from:[1,5],to:[5,1]}]),this.paths=this.paths.concat([{from:[3,1],to:[1,3]},{from:[1,3],to:[3,5]},{from:[3,5],to:[5,3]},{from:[5,3],to:[3,1]}]);var o=[c.Direction.Left,c.Direction.Down,c.Direction.Right],r=[c.Direction.Top,c.Direction.Down,c.Direction.Right],s=[c.Direction.Top,c.Direction.Down,c.Direction.Left],a=[c.Direction.Top,c.Direction.Right,c.Direction.Left],h=[c.Direction.Left,c.Direction.Top,c.Direction.Down,c.Direction.Right],u=[c.Direction.TopLeft,c.Direction.TopRight,c.Direction.DownLeft,c.Direction.DownRight];this.directionMap={"1-1":[c.Direction.Right,c.Direction.Down,c.Direction.DownRight],"2-1":e(o),"3-1":e(o,[c.Direction.DownLeft,c.Direction.DownRight]),"4-1":e(o),"5-1":[c.Direction.Left,c.Direction.DownLeft,c.Direction.Down],"1-2":e(r),"2-2":e(h,u),"3-2":e(h),"4-2":e(h,u),"5-2":e(s),"1-3":e(r,[c.Direction.TopRight,c.Direction.DownRight]),"2-3":e(h),"3-3":e(h,u),"4-3":e(h),"5-3":e(s,[c.Direction.TopLeft,c.Direction.DownLeft]),"1-4":e(r),"2-4":e(h,u),"3-4":e(h),"4-4":e(h,u),"5-4":e(s),"1-5":[c.Direction.Right,c.Direction.Top,c.Direction.TopRight],"2-5":e(a),"3-5":e(a,[c.Direction.TopLeft,c.Direction.TopRight]),"4-5":e(a),"5-5":[c.Direction.Left,c.Direction.TopLeft,c.Direction.Top]}}return t.prototype.load=function(){var t=[],i=[],n=e(Array(5).keys());return n.map(function(i){n.map(function(n){t.push({x:i+1,y:n+1})})}),n.map(function(t){i.push(new r.default({x:t+1,y:1},"P1")),i.push(new r.default({x:t+1,y:5},"P2"))}),{map:t,chips:i}},t.prototype.draw=function(){var t=this;this.ctx.fillStyle=this.config.COLOR.BACKGROUND,this.ctx.fillRect(0,0,window.innerWidth,window.innerHeight),this.paths.map(function(i){t.ctx.strokeStyle=t.config.COLOR.GRID_LINE,t.ctx.shadowBlur=0,t.ctx.beginPath(),t.ctx.moveTo(i.from[0]*t.config.LATTICE.SIZE,i.from[1]*t.config.LATTICE.SIZE),t.ctx.lineTo(i.to[0]*t.config.LATTICE.SIZE,i.to[1]*t.config.LATTICE.SIZE),t.ctx.lineWidth=1,t.ctx.stroke(),t.ctx.closePath()})},t.prototype.redraw=function(){this.ctx.clearRect(0,0,window.innerWidth,window.innerHeight),this.draw()},t}();i.default=s},function(t,i,n){"use strict";i.__esModule=!0,n(0);var o=n(0),e=function(){return function(t,i){this.position=t,this.ownedBy=i,this.id=o.default.PositionToSting(t),this.hover=!1,this.selected=!1}}();i.default=e}]);