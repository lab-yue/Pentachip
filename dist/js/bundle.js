!function(t){var n={};function i(o){if(n[o])return n[o].exports;var e=n[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=n,i.d=function(t,n,o){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)i.d(o,e,function(n){return t[n]}.bind(null,e));return o},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=5)}([function(t,n,i){"use strict";n.__esModule=!0;var o=i(2),e=function(){return function(){this._canvas=document.getElementById("game"),this._ctx=this._canvas.getContext("2d"),this._config=o.default}}();n.default=e},function(t,n,i){"use strict";var o=this&&this.__read||function(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,e,r=i.call(t),c=[];try{for(;(void 0===n||n-- >0)&&!(o=r.next()).done;)c.push(o.value)}catch(t){e={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}return c};function e(t){var n=o(t.split("-").map(parseInt),2);return{x:n[0],y:n[1]}}function r(t){return t.x+"-"+t.y}n.__esModule=!0,n.stringToPosition=e,n.PositionToSting=r,n.default={stringToPosition:e,PositionToSting:r}},function(t,n,i){"use strict";n.__esModule=!0;n.default={COLOR:{SHADOW:"lightyellow",BACKGROUND:"rgb(32,43,65)",GRID_LINE:"white",GAME:"lightyellow",P1:"rgb(103,197,222)",P2:"rgb(231,137,133)"},LATTICE:{SIZE:100},GAME_CHIP:{RADIUS:20,SPEED:.01}}},function(t,n,i){"use strict";var o,e=this&&this.__extends||(o=function(t,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)},function(t,n){function i(){this.constructor=t}o(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)});n.__esModule=!0;var r=i(1),c=function(t){function n(n,i){var o=t.call(this)||this;return o.position=n,o.ownedBy=i,o.id=r.default.PositionToSting(n),o.hover=!1,o.selected=!1,o}return e(n,t),n.prototype.render=function(){this._ctx.beginPath(),this._ctx.arc(this.position.x*this._config.LATTICE.SIZE,this.position.y*this._config.LATTICE.SIZE,this._config.GAME_CHIP.RADIUS,0,2*Math.PI,!1),this._ctx.shadowBlur=5,this._ctx.shadowColor=this.hover?this._config.COLOR.SHADOW:"rgba(0,0,0,0)",this._ctx.fillStyle=this._config.COLOR[this.ownedBy],this._ctx.fill(),this._ctx.closePath(),this._ctx.lineWidth=4,this._ctx.strokeStyle=this.selected?"crimson":"black",this._ctx.stroke()},n}(i(0).default);n.default=c},function(t,n,i){"use strict";n.__esModule=!0,function(t){t[t.TopLeft=0]="TopLeft",t[t.Top=1]="Top",t[t.TopRight=2]="TopRight",t[t.Left=3]="Left",t[t.Right=4]="Right",t[t.DownLeft=5]="DownLeft",t[t.Down=6]="Down",t[t.DownRight=7]="DownRight"}(n.Direction||(n.Direction={}))},function(t,n,i){"use strict";n.__esModule=!0;var o=new(i(6).default);o.start("P1");var e=o.state.chips;o.move(e[0]).to({x:2,y:2}).then(function(){return o.move("3-5").to({x:3,y:3})}).then(function(){return o.move(e[4]).to({x:4,y:2})}).then(function(){return o.move("3-5").to({x:4,y:4})})},function(t,n,i){"use strict";var o,e=this&&this.__extends||(o=function(t,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)},function(t,n){function i(){this.constructor=t}o(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)});n.__esModule=!0;var r=i(1),c=i(2),s=i(3),u=i(7),a=i(0),f=i(4),h=function(t){function n(){var n=t.call(this)||this;return n._canvas.height=600,n._canvas.width=600,n.config=c.default,n.board=new u.default,n.state=n.board.load(),n.hints=[],n._canvas.onmousemove=function(t){var i=n.getEventPositon(t),o=!1;n.state.chips.map(function(t){var e=n.isInside(t.position,i);t.hover=e,e&&(o=!0)}),o&&n.render()},n._canvas.onclick=function(t){var i=n.getEventPositon(t),o=!1;n.state.chips.map(function(t){var e=n.isInside(t.position,i);e&&(o=!0,n.hints=[],n.searchHintPoints(t.position).map(function(t){return n.hints.push(new s.default(t,"GAME"))})),t.selected=e}),o&&n.render()},n}return e(n,t),n.prototype.render=function(){this._ctx.clearRect(0,0,window.innerWidth,window.innerHeight),this.board.render(),this.renderChips(),this.renderHints()},n.prototype.getEventPositon=function(t){var n=this._canvas.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}},n.prototype.start=function(t){this.turn=t,this.render()},n.prototype.renderChips=function(){this.state.chips.map(function(t){return t.render()})},n.prototype.renderHints=function(){this.hints.map(function(t){return t.render()})},n.prototype.move=function(t){var n;if("string"==typeof t){var i=this.state.chips.filter(function(n){return n.id===t});1===i.length?n=i[0]:Error("ID not found")}else n=t;return this.moving=n,this},n.prototype.to=function(t){var n=this;return new Promise(function(i,o){var e=t.x-n.moving.position.x,r=t.y-n.moving.position.y,c=function(){var o=!0;n.moving.position.x!==t.x&&(o=!1,n.moving.position.x+=e/100,n.moving.position.x=parseFloat(n.moving.position.x.toFixed(2))),n.moving.position.y!==t.y&&(o=!1,n.moving.position.y+=r/100,n.moving.position.y=parseFloat(n.moving.position.y.toFixed(2))),o?i():(n.render(),requestAnimationFrame(c))};c()})},n.prototype.searchHintPoints=function(t){var n=this,i=r.default.PositionToSting(t),o=this.board.directionMap[i],e=[];return o.forEach(function(i){e=e.concat(n.searchDirectionHintPoints(t,i))}),e},n.prototype.checkInclude=function(t,n){var i=t.filter(function(t){return t.x===n.x&&t.y===n.y});return Boolean(i.length)},n.prototype.searchDirectionHintPoints=function(t,n){var i=[];switch(n){case f.Direction.Top:for(var o=t.y-1;o>=1;o--){var e={x:t.x,y:o};if(this.checkInclude(this.state.chips.map(function(t){return t.position}),e))break;this.checkInclude(this.state.map,e)&&i.push(e)}return i;case f.Direction.Down:for(o=t.y+1;o<=5;o++){e={x:t.x,y:o};if(this.checkInclude(this.state.chips.map(function(t){return t.position}),e))break;this.checkInclude(this.state.map,e)&&i.push(e)}return i;case f.Direction.Left:for(o=t.x-1;o>=1;o--){e={x:o,y:t.y};if(this.checkInclude(this.state.chips.map(function(t){return t.position}),e))break;this.checkInclude(this.state.map,e)&&i.push(e)}return i;case f.Direction.Right:for(o=t.x+1;o<=5;o++){e={x:o,y:t.y};if(this.checkInclude(this.state.chips.map(function(t){return t.position}),e))break;this.checkInclude(this.state.map,e)&&i.push(e)}return i;case f.Direction.TopLeft:for(o=t.x-1;o>=1;o--){e={x:o,y:o};if(this.checkInclude(this.state.chips.map(function(t){return t.position}),e))break;this.checkInclude(this.state.map,e)&&i.push(e)}return i;case f.Direction.TopRight:for(o=t.x+1;o<=5;o++){e={x:o,y:1+t.y-o};if(this.checkInclude(this.state.chips.map(function(t){return t.position}),e))break;this.checkInclude(this.state.map,e)&&i.push(e)}return i;case f.Direction.DownLeft:for(o=t.x-1;o>=1;o--){e={x:o,y:1+t.y-o};if(this.checkInclude(this.state.chips.map(function(t){return t.position}),e))break;this.checkInclude(this.state.map,e)&&i.push(e)}return i;case f.Direction.DownRight:for(o=t.x+1;o<=5;o++){e={x:o,y:o};if(this.checkInclude(this.state.chips.map(function(t){return t.position}),e))break;this.checkInclude(this.state.map,e)&&i.push(e)}return i}},n.prototype.isInside=function(t,n){return Math.sqrt(Math.pow(Math.abs(t.x*this.config.LATTICE.SIZE-n.x),2)+Math.pow(Math.abs(t.y*this.config.LATTICE.SIZE-n.y),2))<this.config.GAME_CHIP.RADIUS},n}(a.default);n.default=h},function(t,n,i){"use strict";var o,e=this&&this.__extends||(o=function(t,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)},function(t,n){function i(){this.constructor=t}o(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}),r=this&&this.__read||function(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,e,r=i.call(t),c=[];try{for(;(void 0===n||n-- >0)&&!(o=r.next()).done;)c.push(o.value)}catch(t){e={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}return c},c=this&&this.__spread||function(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(r(arguments[n]));return t};n.__esModule=!0;var s=i(3),u=i(0),a=i(4),f=function(t){function n(){var n=t.call(this)||this;n.paths=[],c(Array(5).keys()).map(function(t){var i=t+1;n.paths.push({from:[i,1],to:[i,5]}),n.paths.push({from:[1,i],to:[5,i]})}),n.paths=n.paths.concat([{from:[1,1],to:[5,5]},{from:[1,5],to:[5,1]}]),n.paths=n.paths.concat([{from:[3,1],to:[1,3]},{from:[1,3],to:[3,5]},{from:[3,5],to:[5,3]},{from:[5,3],to:[3,1]}]);var i=[a.Direction.Left,a.Direction.Down,a.Direction.Right],o=[a.Direction.Top,a.Direction.Down,a.Direction.Right],e=[a.Direction.Top,a.Direction.Down,a.Direction.Left],r=[a.Direction.Top,a.Direction.Right,a.Direction.Left],s=[a.Direction.Left,a.Direction.Top,a.Direction.Down,a.Direction.Right],u=[a.Direction.TopLeft,a.Direction.TopRight,a.Direction.DownLeft,a.Direction.DownRight];return n.directionMap={"1-1":[a.Direction.Right,a.Direction.Down,a.Direction.DownRight],"2-1":c(i),"3-1":c(i,[a.Direction.DownLeft,a.Direction.DownRight]),"4-1":c(i),"5-1":[a.Direction.Left,a.Direction.DownLeft,a.Direction.Down],"1-2":c(o),"2-2":c(s,u),"3-2":c(s),"4-2":c(s,u),"5-2":c(e),"1-3":c(o,[a.Direction.TopRight,a.Direction.DownRight]),"2-3":c(s),"3-3":c(s,u),"4-3":c(s),"5-3":c(e,[a.Direction.TopLeft,a.Direction.DownLeft]),"1-4":c(o),"2-4":c(s,u),"3-4":c(s),"4-4":c(s,u),"5-4":c(e),"1-5":[a.Direction.Right,a.Direction.Top,a.Direction.TopRight],"2-5":c(r),"3-5":c(r,[a.Direction.TopLeft,a.Direction.TopRight]),"4-5":c(r),"5-5":[a.Direction.Left,a.Direction.TopLeft,a.Direction.Top]},n}return e(n,t),n.prototype.load=function(){var t=[],n=[],i=c(Array(5).keys());return i.map(function(n){i.map(function(i){t.push({x:n+1,y:i+1})})}),i.map(function(t){n.push(new s.default({x:t+1,y:1},"P1")),n.push(new s.default({x:t+1,y:5},"P2"))}),{map:t,chips:n}},n.prototype.render=function(){var t=this;this._ctx.fillStyle=this._config.COLOR.BACKGROUND,this._ctx.fillRect(0,0,window.innerWidth,window.innerHeight),this.paths.map(function(n){t._ctx.strokeStyle=t._config.COLOR.GRID_LINE,t._ctx.shadowBlur=0,t._ctx.beginPath(),t._ctx.moveTo(n.from[0]*t._config.LATTICE.SIZE,n.from[1]*t._config.LATTICE.SIZE),t._ctx.lineTo(n.to[0]*t._config.LATTICE.SIZE,n.to[1]*t._config.LATTICE.SIZE),t._ctx.lineWidth=1,t._ctx.stroke(),t._ctx.closePath()})},n}(u.default);n.default=f}]);