!function(t){var n={};function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)o.d(e,i,function(n){return t[n]}.bind(null,i));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="",o(o.s=4)}([function(t,n,o){"use strict";n.__esModule=!0;var e=o(2),i=function(){return function(){this._canvas=document.getElementById("game"),this._ctx=this._canvas.getContext("2d"),this._config=e.default}}();n.default=i},function(t,n,o){"use strict";var e=this&&this.__read||function(t,n){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var e,i,r=o.call(t),s=[];try{for(;(void 0===n||n-- >0)&&!(e=r.next()).done;)s.push(e.value)}catch(t){i={error:t}}finally{try{e&&!e.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}return s};function i(t){var n=e(t.split("-").map(parseInt),2);return{x:n[0],y:n[1]}}function r(t){return t.x+"-"+t.y}n.__esModule=!0,n.stringToPosition=i,n.PositionToSting=r,n.default={stringToPosition:i,PositionToSting:r}},function(t,n,o){"use strict";n.__esModule=!0;n.default={COLOR:{SHADOW:"lightyellow",BACKGROUND:"rgb(32,43,65)",GRID_LINE:"white",GAME:"lightyellow",P1:"rgb(103,197,222)",P2:"rgb(231,137,133)"},LATTICE:{SIZE:100},GAME_CHIP:{RADIUS:20,SPEED:.01}}},function(t,n,o){"use strict";var e,i=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])})(t,n)},function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)});n.__esModule=!0;var r=o(1),s=function(t){function n(n,o){var e=t.call(this)||this;return e.position=n,e.ownedBy=o,e.id=r.default.PositionToSting(n),e.hover=!1,e.selected=!1,e}return i(n,t),n.prototype.render=function(){this._ctx.beginPath(),this._ctx.arc(this.position.x*this._config.LATTICE.SIZE,this.position.y*this._config.LATTICE.SIZE,this._config.GAME_CHIP.RADIUS,0,2*Math.PI,!1),this._ctx.shadowBlur=5,this._ctx.shadowColor=this.hover?this._config.COLOR.SHADOW:"rgba(0,0,0,0)",this._ctx.fillStyle=this._config.COLOR[this.ownedBy],this._ctx.fill(),this._ctx.closePath(),this._ctx.lineWidth=4,this._ctx.strokeStyle=this.selected?"crimson":"black",this._ctx.stroke()},n}(o(0).default);n.default=s},function(t,n,o){"use strict";n.__esModule=!0;var e=new(o(5).default);e.start("P1");e.state.chips},function(t,n,o){"use strict";var e,i=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])})(t,n)},function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)});n.__esModule=!0;var r=o(1),s=o(2),c=o(3),a=o(6),u=function(t){function n(){var n=t.call(this)||this;return n._canvas.height=600,n._canvas.width=600,n.config=s.default,n.board=new a.default,n.state=n.board.load(),n.hints=[],n._canvas.onmousemove=function(t){var o=n.getEventPositon(t),e=!1;n.state.chips.map(function(t){var i=n.isInside(t.position,o);t.hover=i,i&&(e=!0)}),e&&n.render()},n._canvas.onclick=function(t){if(!n.selected||Boolean(n.hints.length)){var o=n.getEventPositon(t),e=!1;n.state.chips.map(function(t){var i=n.isInside(t.position,o);i&&(e=!0,n.selected=t,n.hints=[],n.searchHintPoints(t.position).map(function(t){return n.hints.push(new c.default(t,"GAME"))})),t.selected=i}),n.hints.map(function(t){n.isInside(t.position,o)&&(n.hints=[],n.to(t.position))}),e&&n.render()}},n}return i(n,t),n.prototype.render=function(){this._ctx.clearRect(0,0,window.innerWidth,window.innerHeight),this.board.render(),this.renderChips(),this.renderHints()},n.prototype.getEventPositon=function(t){var n=this._canvas.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}},n.prototype.start=function(t){this.turn=t,this.render()},n.prototype.renderChips=function(){this.state.chips.map(function(t){return t.render()})},n.prototype.renderHints=function(){this.hints.map(function(t){return t.render()})},n.prototype.move=function(t){var n;if("string"==typeof t){var o=this.state.chips.filter(function(n){return n.id===t});1===o.length?n=o[0]:Error("ID not found")}else n=t;return this.selected=n,this},n.prototype.to=function(t){var n=this;return new Promise(function(o,e){var i=t.x-n.selected.position.x,r=t.y-n.selected.position.y,s=function(){var e=!0;n.selected.position.x!==t.x&&(e=!1,n.selected.position.x+=i/100,n.selected.position.x=parseFloat(n.selected.position.x.toFixed(2))),n.selected.position.y!==t.y&&(e=!1,n.selected.position.y+=r/100,n.selected.position.y=parseFloat(n.selected.position.y.toFixed(2))),e?(n.selected=null,o()):(n.render(),requestAnimationFrame(s))};s()})},n.prototype.searchHintPoints=function(t){var n=this,o=r.default.PositionToSting(t),e=this.board.directionMap[o],i=[];return e.forEach(function(o){i=i.concat(n.searchDirectionHintPoints(t,n.board.vectors[o]))}),i},n.prototype.isOccupied=function(t,n){var o=t.filter(function(t){return t.x===n.x&&t.y===n.y});return Boolean(o.length)},n.prototype.searchDirectionHintPoints=function(t,n){for(var o=[],e={x:t.x+n.x,y:t.y+n.y},i=this.state.chips.map(function(t){return t.position});this.isInMap(e)&&!this.isOccupied(i,e);)o.push(e),e={x:e.x+n.x,y:e.y+n.y};return o},n.prototype.isInMap=function(t){return t.x>=1&&t.x<=5&&t.y>=1&&t.y<=5},n.prototype.isInside=function(t,n){return Math.sqrt(Math.pow(Math.abs(t.x*this.config.LATTICE.SIZE-n.x),2)+Math.pow(Math.abs(t.y*this.config.LATTICE.SIZE-n.y),2))<this.config.GAME_CHIP.RADIUS},n}(o(0).default);n.default=u},function(t,n,o){"use strict";var e,i=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])})(t,n)},function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),r=this&&this.__read||function(t,n){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var e,i,r=o.call(t),s=[];try{for(;(void 0===n||n-- >0)&&!(e=r.next()).done;)s.push(e.value)}catch(t){i={error:t}}finally{try{e&&!e.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}return s},s=this&&this.__spread||function(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(r(arguments[n]));return t};n.__esModule=!0;var c=o(3),a=function(t){function n(){var n=t.call(this)||this;n.paths=[],s(Array(5).keys()).map(function(t){var o=t+1;n.paths.push({from:[o,1],to:[o,5]}),n.paths.push({from:[1,o],to:[5,o]})}),n.paths=n.paths.concat([{from:[1,1],to:[5,5]},{from:[1,5],to:[5,1]}]),n.paths=n.paths.concat([{from:[3,1],to:[1,3]},{from:[1,3],to:[3,5]},{from:[3,5],to:[5,3]},{from:[5,3],to:[3,1]}]);var o=["left","down","right"],e=["top","down","right"],i=["top","down","left"],r=["top","right","left"],c=["left","top","down","right"],a=["topLeft","topRight","downLeft","downRight"];return n.directionMap={"1-1":["right","down","downRight"],"2-1":s(o),"3-1":s(o,["downLeft","downRight"]),"4-1":s(o),"5-1":["left","downLeft","down"],"1-2":s(e),"2-2":s(c,a),"3-2":s(c),"4-2":s(c,a),"5-2":s(i),"1-3":s(e,["topRight","downRight"]),"2-3":s(c),"3-3":s(c,a),"4-3":s(c),"5-3":s(i,["topLeft","downLeft"]),"1-4":s(e),"2-4":s(c,a),"3-4":s(c),"4-4":s(c,a),"5-4":s(i),"1-5":["right","top","topRight"],"2-5":s(r),"3-5":s(r,["topLeft","topRight"]),"4-5":s(r),"5-5":["left","topLeft","top"]},n.vectors={topLeft:{x:-1,y:-1},top:{x:0,y:-1},topRight:{x:1,y:-1},left:{x:-1,y:0},right:{x:1,y:0},downLeft:{x:-1,y:1},down:{x:0,y:1},downRight:{x:1,y:1}},n}return i(n,t),n.prototype.load=function(){var t=[],n=[],o=s(Array(5).keys());return o.map(function(n){o.map(function(o){t.push({x:n+1,y:o+1})})}),o.map(function(t){n.push(new c.default({x:t+1,y:1},"P1")),n.push(new c.default({x:t+1,y:5},"P2"))}),{map:t,chips:n}},n.prototype.render=function(){var t=this;this._ctx.fillStyle=this._config.COLOR.BACKGROUND,this._ctx.fillRect(0,0,window.innerWidth,window.innerHeight),this.paths.map(function(n){t._ctx.strokeStyle=t._config.COLOR.GRID_LINE,t._ctx.shadowBlur=0,t._ctx.beginPath(),t._ctx.moveTo(n.from[0]*t._config.LATTICE.SIZE,n.from[1]*t._config.LATTICE.SIZE),t._ctx.lineTo(n.to[0]*t._config.LATTICE.SIZE,n.to[1]*t._config.LATTICE.SIZE),t._ctx.lineWidth=1,t._ctx.stroke(),t._ctx.closePath()})},n}(o(0).default);n.default=a}]);